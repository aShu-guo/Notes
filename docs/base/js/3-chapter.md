# 类型、值和变量

JS包含两种数据类型：基本数据类型和引用数据类型

其中基本数据类型为：number、boolean、string、null、undefined、symbol。除了这些类型之外都是引用数据类型，即对象。对象是一系列属性的合集

普通对象是一个命名值的无序集合，同时js也定义了一个特殊对象——数组，除了这些之外也内置了一些对象

- Set：无序、不重复的集合
- Map：key和value的映射集合
- RegExp：正则，用于匹配文本
- Date：日期和时间
- Error：与其子类型表示JS运行期间可能发生的错误

JS支持面向对象的编程风格，从技术上讲，只有JS对象才有方法，但是number、string、boolean、symbol都可以调用方法，在JS中只有null、undefined没有方法调用。

JS的引用数据类型是mutable，但是基本数据类型是immutable的

## 数值

JS使用IEEE754标准定义的64位浮点格式表示数值，可表示范围为

- 最大值

$$
\pm 1.7976931348623156\times 10^{308}
$$

- 最小值

$$
\pm 5\times10^{-324}
$$

### 整数字面量

ES6之前，只支持十进制、十六进制（0x或者0X）数值；在ES6之后，支持二进制（0b或者0B）、八进制（0o或者0O）

### 浮点字面量

```text
[digits][.digits][(E|e)[(+|-)]digits]
```

例如：

![img.png](/imgs/base/js/type.png)

:::info
支持使用下划线对数值分割，更易读

```js
const a = 1_000_000_000;
```

:::

### 算术

JS算术中一些特殊情况：

- 在JS中被0除并不认为是错误的，而是会返回Infinity或-Infinity，但是有一个特例：0/0返回NaN

![img.png](/imgs/base/js/type-1.png)

- NaN有个特性：它不等于任何值，同时也不等于自身。可以通过Number.isNaN方法判断是否为NaN
- 0等于-0，意味着：作为除数使用时几乎无法区分这两个值

![img.png](/imgs/base/js/type-2.png)

### 二进制浮点数和舍入错误

JS使用的是IEEE-754浮点表示法，它是一种二进制表示法，可以精确的表示1/2、1/4、1/1024等分数，但是我们常用的分数是1/10、1/100等。这就会导致：

```js
0.3 - 0.2 === 0.1; // false
```

这并不是JS独有的问题，所有采用IEEE-754表示浮点数的语言都会出现这种问题，解决方法是尽量不使用浮点数，而去使用整数。

例如0.3人民币，使用3角或30分表示来减少误差

### BigInt

ES2020新增的数值类型BigInt，主要是为了表示64位整数



